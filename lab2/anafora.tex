\documentclass[10pt, a4paper]{report}  % report depends on what Im writing
\usepackage[english,greek]{babel}
\usepackage[utf8]{inputenc}
\usepackage{graphicx}
\usepackage{amsmath}  % supports many of the math that I wil need
\usepackage{subfig}  % to enable many images on the same row
\usepackage[left = 25mm, top = 25mm, bottom = 25mm]{geometry}  % to define custom margins
\usepackage{hyperref}  % to reference sections and other un-referenceable stuff
\graphicspath{ {/} }
\newcommand{\en}{\selectlanguage{english}}  % define the short command we will use in the text
\newcommand{\gr}{\selectlanguage{greek}} 

\title{\textbf{$2^o$ Εργαστήριο στα Συστήματα Ελέγχου}}
\author{Ευάγγελος Κατσούπης 2017030077\\ Απόστολος Γιουμερτάκης 2017030142\\ Α. Ραφαήλ Ελληνιτάκης 2017030118\\ Κωνσταντίνος Βούλγαρης 2017030125\\ \\ \textbf{Ομάδα 37}}
\date{5 Απριλίου 2021}

\begin{document}
	
	\maketitle
	
	\chapter{Υπολογιστικό Μέρος}
	\section{Κινητήρας}
	\gr
	Έχοντας την συνάρτηση μεταφοράς που περιγράφει έναν κινητηρα, προσπαθούμε να υπολογίσουμε την συμπεριφορά του θεωρητικά σε διάφορα σενάρια φόρτου και εισόδων ελέγχου.
	Χρησιμοποιήσαμε το λογιμικό \en Matlab \gr για όλους τους υπολογισμούς και τις γραφικές παραστάσεις.
	Δεδομένης της συνάρτησης μεταφοράς που μας δίνεται:
	$$ H(s) = K_s \frac{1}{T_1s+1}\frac{1}{T_2s+1} = \frac{b_0}{s^2 + a_1s+a_0} $$
	
	\noindent
	1)Μας δίνονται οι εξής παράμετροι:
	$$K_s = 0.8, T_g=1.05sec, T_u = 0.14sec$$ 
	Υπολογίσαμε τις παραμέτρους του \en PI \gr συστήματος με την μέθοδο \en CHR overshoot 0\% \gr όπως φαίνεται στην εικόνα \ref{fig:d1}. Όπως και στο προηγούμενο εργαστήριο, με την μέθοδο \en pidstd() \gr ορίσαμε το σύστημα ελέγχου μας. Το \en $T_b$ \gr αντιστοιχεί στο \en $T_g$ \gr και το \en $T_e$ \gr αντιστοιχεί στο \en $T_u$ \gr όπως ξέρουμε απο θεωρία.
	\begin{figure}[h] 
		\centering
		\includegraphics[width=0.4\textwidth]{d1}
		\caption{Ο ορισμός του \en PI \gr συστήματος και ο υπολογισμός παραμέτρων του.}
		\label{fig:d1}
	\end{figure} 

	\begin{figure}[h] 
		\centering
		\includegraphics[width=0.5\textwidth]{d1_graph}
		\caption{Η απόκριση του νέου συστήματος.}
		\label{fig:d1_graph}
	\end{figure}
	
	\newpage

	
	2) Για το δεύτερο ερώτημα, πρέπει να δημιουργήσουμε τον παλμό που εικονίζεται στην εκφώνηση, με πλάτος \en peak to peak \gr 500$\frac{n_w}{rpm}$, θετικό \en offset \gr 1500, και περίοδο 16 δευτερόλεπτα. Το κάνουμε όπως φαίνεται στην εικόνα \ref{fig:d2_pulse}
	\begin{figure}[h] 
		\centering
		\includegraphics[width=0.5\textwidth]{d2_pulse}
		\caption{Η δημιουργία του παλμού με όρους \en Matlab \gr.}
		\label{fig:d2_pulse}
	\end{figure} 
	Ο παλμός που δημιουργήθηκε, δόθηκε ώς είσοδος στο σύστημα που δημιουργήσαμε στο προηγούμενο ερώτημα και η απόκριση του φαίνεται στο σχήμα \ref{fig:d2_pulse_graph}.
	\begin{figure}[h] 
		\centering
		\includegraphics[width=0.5\textwidth]{d2_pulse_graph}
		\caption{Εδώ φαίνεται η απόκριση του συστήματος ελέγχου στο σήμα που είναι ουσιαστικά \en PWM \gr.}
		\label{fig:d2_pulse_graph}
	\end{figure} 


	Για να βρούμε τους δείκτες σφάλματος \en ISE, IAE, ITAE \gr και \en ITSE \gr, πρέπει πρώτα να ορίσουμε το σφάλμα:
	$$e(t) = |response(t)-pulse(t)|$$
	Το οποίο υλοποιήθηκε με την εντολή \en \textbf{e = resp - (pulse.');} \gr με την τελεία και την απόστροφο να δείχνουν τον ανάστροφο πίνακα του \en pulse \gr για να μπορεί να γίνει η πράξη με την απόκρισι.
	Έπειτα, το υποβάλλουμε σε διάφορες ολοκληρώσεις, όπως:
	$$ISE = \int_{0}^{\infty} e^2(t) \,dx  $$
	$$ISE = \int_{0}^{\infty} |e(t)| \,dx  $$
	$$ITSE = \int_{0}^{\infty} te^2(t) \,dx  $$
	$$ITAE = \int_{0}^{\infty} t|e(t)| \,dx  $$
	Τα παραπάνω υλοποιήθηκαν με την συνάρτηση \en trapz() \gr της \en Matlab \gr, που υλοποιεί ολοκλήρωση χωρίζοντας το επίπεδο σε τραπέζια, όπως φαίνεται στην εικόνα \ref{fig:d2_errors}
	\begin{figure}[h] 
		\centering
		\includegraphics[width=0.3\textwidth]{d2_errors}
		\caption{Η υλοποίηση των δεικτών σφάλματος.}
		\label{fig:d2_errors}
	\end{figure} 


	Με τα παραπάνω, καταλήξαμε στις εξής τιμές δεικτών σφαλμάτων:
	$$IAE = 2.737$$
	$$ISE = 1.52$$
	$$ITAE = 5.79$$
	$$ITSE = 1.53$$	
	
	3)Ρύθμιση με την εμπειρική μέθοδο $T_{sum}$
	Για να ρυθμίσουμε τον ελεγκτή με την συγκεκριμένη μέθοδο, αρκεί να συμβουλευθούμε τον πίνακα \ref{fig:tsum_method}.
	\begin{figure}[h] 
		\centering
		\includegraphics[width=0.6\textwidth]{tsum_method}
		\caption{Ο πίνακας εμπειρικής ρύθμισης $T_{sum}$.}
		\label{fig:tsum_method}
	\end{figure} 


	Και στην εικόνα \ref{fig:tsum_code} δίνεται ο κώδικας για την υλοποίηση. Γνωρίζουμε οτι $T_s = T_1 + T_2$ απο θεωρία.:
	\begin{figure}[h] 
		\centering
		\includegraphics[width=0.2\textwidth]{tsum_code}
		\caption{Νέος ορισμός $K_p$ και $T_i$ για το νέο εμπειρικά ρυθμισμένο σύστημα. }
		\label{fig:tsum_code}
	\end{figure} 


	Στην εικόνα \ref{fig:d3_pulse_graph} φαίνεται η απόκριση στον \en "PWM" \gr παλμό του κινητήρα. Είναι εμφανώς ομαλότερη απο την μέθοδο \en CHR 0\% overshoot \gr.
	\begin{figure}[h] 
		\centering
		\includegraphics[width=0.5\textwidth]{d3_pulse_graph}
		\caption{Η απόκριση του συστήματος που είναι ρυθμισμένο με την μέθοδο $T_sum$. }
		\label{fig:d3_pulse_graph}
	\end{figure} 
	
		
\end{document}


